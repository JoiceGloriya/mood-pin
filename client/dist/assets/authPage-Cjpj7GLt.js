import{r as n,a as p,u as h,j as e,I as j,b as x}from"./index-Dr6qg4Oc.js";const b=()=>{const[r,t]=n.useState(!1),[s,d]=n.useState(""),m=p(),{setCurrentUser:c}=h(),l=async i=>{i.preventDefault();const u=new FormData(i.target),o=Object.fromEntries(u);console.log(o);try{const a=await x.post(`/users/auth/${r?"register":"login"}`,o);c(a.data),m("/")}catch(a){d(a.response.data.message)}};return e.jsx("div",{className:"authPage",children:e.jsxs("div",{className:"authContainer",children:[e.jsx(j,{path:"/general/logo.jpg",w:36,h:36,alt:""}),e.jsx("h1",{children:r?"Create an Account":"Login to your account"}),r?e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{type:"username",placeholder:"Username",required:!0,name:"username",id:"username"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"displayName",children:"Name"}),e.jsx("input",{type:"displayName",placeholder:"Name",required:!0,name:"displayName",id:"displayName"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,name:"email",id:"email"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Password",required:!0,name:"password",id:"password"})]}),e.jsx("button",{type:"submit",children:"Register"}),e.jsxs("p",{onClick:()=>t(!1),children:["Do you have an account? ",e.jsx("b",{children:"Login"})]}),s&&e.jsx("p",{className:"error",children:s})]},"register"):e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,name:"email",id:"email"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Password",required:!0,name:"password",id:"password"})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{onClick:()=>t(!0),children:["Don't have an account? ",e.jsx("b",{children:"Register"})]}),s&&e.jsx("p",{className:"error",children:s})]},"loginForm")]})})};export{b as default};
